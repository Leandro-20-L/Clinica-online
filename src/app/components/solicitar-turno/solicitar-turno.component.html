<div class="solicitar-container">
  <h2>Solicitar turno</h2>

  <!-- 1️⃣ Seleccionar profesional -->
  <div *ngIf="!especialistaSeleccionado">
    <h3>Seleccione un profesional</h3>
    <div class="grid">
      <button *ngFor="let e of especialistas" (click)="seleccionarEspecialista(e)">
        <img [src]="e.imagen1 || 'assets/imgs/default-user.png'" alt="Foto del profesional" />
        <span>{{ e.nombre }} {{ e.apellido }}</span>
      </button>
    </div>
  </div>

  <!-- 2️⃣ Seleccionar especialidad -->
  <div *ngIf="especialistaSeleccionado && !especialidadSeleccionada">
    <h3>Especialidades de {{ especialistaSeleccionado.nombre }}</h3>
    <div class="grid-especialidades">
      <button *ngFor="let esp of especialidadesDelProfesional" (click)="seleccionarEspecialidad(esp)">
        <img [src]="especialistaSeleccionado.imagen1 || 'assets/imgs/default-especialidad.png'" alt="Especialidad" />
        <span>{{ esp }}</span>
      </button>
    </div>
  </div>

  <!-- 3️⃣ Seleccionar día y horario -->
  <div *ngIf="especialidadSeleccionada" class="seleccion-turno">
    <h3>Seleccione un día</h3>
    <div class="dias-grid">
      <button *ngFor="let d of diasDisponibles"
              (click)="seleccionarDia(d)"
              [class.activo]="d === diaSeleccionado">
        {{ d | diaEs }}
      </button>
    </div>

    <div *ngIf="diaSeleccionado">
      <h3>Seleccione un horario</h3>
      <div class="horas-grid">
        <button *ngFor="let h of horariosDisponibles"
                (click)="seleccionarHora(h)"
                [class.activo]="h === horaSeleccionada">
          {{ h }}
        </button>
      </div>
    </div>

    <button *ngIf="horaSeleccionada" class="btn-confirmar" (click)="confirmarTurno()">
      Confirmar turno
    </button>
  </div>
</div>
