<div class="especialista-container">
  <header class="header">
    <div class="info">
      <h2>Bienvenido, {{ especialista?.nombre }}</h2>
      <p class="especialidad">{{ especialista?.especialidad }}</p>
    </div>

    <div class="acciones-header">
     
      <button class="btn-perfil" (click)="irAPerfil()">
        <img src="usuarios/user.svg" alt="Perfil" />
        <span>Mi perfil</span>
      </button>

     
      <button class="btn-logout" (click)="logout()">
        <img src="svgs/logout.svg" alt="Cerrar sesión" />
        <span>Cerrar sesión</span>
      </button>
    </div>
  </header>

  <section class="filtros">
    <button [class.activo]="filtro === 'pendiente'" (click)="cambiarFiltro('pendiente')">
      Pendientes
    </button>
    <button [class.activo]="filtro === 'aceptado'" (click)="cambiarFiltro('aceptado')">
      Aceptados
    </button>
    <button [class.activo]="filtro === 'rechazado'" (click)="cambiarFiltro('rechazado')">
      Rechazados
    </button>
    <button [class.activo]="filtro === 'realizado'" (click)="cambiarFiltro('realizado')">
      Realizados
    </button>
  </section>

  <section class="turnos-lista">
    <div *ngIf="turnosFiltrados.length; else sinTurnos">
      <div class="turno-card" *ngFor="let turno of turnosFiltrados">
        <h3>{{ turno.especialidad }}</h3>
        <p><strong>Paciente:</strong> {{ turno.usuarios?.nombre }} {{ turno.usuarios?.apellido }}</p>
        <p><strong>Fecha:</strong> {{ turno.fecha | date: 'dd/MM/yyyy' }}</p>
        <p><strong>Hora:</strong> {{ turno.hora }}</p>
        <p class="estado" [ngClass]="turno.estado">{{ turno.estado | titlecase }}</p>

        <div class="acciones" *ngIf="turno.estado === 'pendiente'">
          <button class="btn-aceptar" (click)="aceptarTurno(turno)">Aceptar</button>
          <button class="btn-rechazar" (click)="rechazarTurno(turno)">Rechazar</button>
        </div>

        <div class="acciones" *ngIf="turno.estado === 'aceptado'">
          <button class="btn-realizado" (click)="marcarRealizado(turno)">Marcar realizado</button>
        </div>
      </div>
    </div>

    <ng-template #sinTurnos>
      <p class="sin-turnos">No hay turnos en esta categoría.</p>
    </ng-template>
  </section>
</div>
